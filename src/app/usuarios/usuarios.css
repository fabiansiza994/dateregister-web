/* Sticky search under navbar */
.dr-sticky-under-nav { position: sticky; top: calc(var(--menu-h, 56px) + 8px); z-index: 35; }

/* Search input with icon inside */
.dr-search-wrap { position: relative; }
.dr-search-wrap .dr-search-icon { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #64748b; pointer-events: none; font-size: 14px; }
.dr-search-wrap input.form-control { padding-left: 2.0rem; }
.dr-search-btn-inside {
	position: absolute;
	left: .5rem;
	top: 50%;
	transform: translateY(-50%);
	width: 26px; height: 26px;
	border-radius: 9999px;
	display: inline-flex; align-items: center; justify-content: center;
	color: #ffffff; /* icono blanco sobre azul */
	background: transparent; border: 1px solid transparent;
}
.dr-search-btn-inside:hover { color: #ffffff; opacity: .9; }
.dr-search-btn-inside:disabled { opacity: .5; }
.dr-search-btn-right { position: absolute; right: 8px; top: 50%; transform: translateY(-50%); color: #fff; background: transparent; border: 0; width: 28px; height: 28px; display: inline-flex; align-items: center; justify-content: center; }

/* Hover shake for trash/bin */
.dr-shake:hover { animation: dr-shake 360ms ease-in-out; transform-origin: 50% 60%; }
/* Also trigger shake when hovering the whole button that contains the icon */
.btn:hover .dr-shake { animation: dr-shake 360ms ease-in-out; transform-origin: 50% 60%; }
@keyframes dr-shake { 10% { transform: rotate(-12deg) } 20% { transform: rotate(11deg) } 30% { transform: rotate(-9deg) } 40% { transform: rotate(7deg) } 50% { transform: rotate(-5deg) } 60% { transform: rotate(3deg) } 70% { transform: rotate(-2deg) } 100% { transform: rotate(0) } }

/* Click sparks */
.dr-sparks-container { position: fixed; inset: 0; pointer-events: none; z-index: 70; }
.dr-spark { position: absolute; width: 6px; height: 6px; border-radius: 50%; opacity: 0.9; transform: translate(-50%, -50%); animation: dr-spark 600ms ease-out forwards; will-change: transform, opacity; }
@keyframes dr-spark { to { transform: translate(calc(-50% + var(--tx)), calc(-50% + var(--ty))); opacity: 0; } }

/* Sticky pager above mobile bottom nav */
.dr-sticky-pager { position: sticky; bottom: calc(env(safe-area-inset-bottom) + 76px); z-index: 30; background: linear-gradient(to top, rgba(255,255,255,0.92), rgba(255,255,255,0.88)); backdrop-filter: saturate(120%) blur(4px); padding-top: 6px; margin-top: 6px; border-top: 1px solid rgba(15,23,42,0.08); }

/* (Reverted) Use default card spacings like other modules */

/* Create FAB on mobile */
.dr-create-fab { position: fixed; right: calc(16px + env(safe-area-inset-right)); bottom: calc(76px + env(safe-area-inset-bottom)); z-index: 65; }
.dr-create-fab .dr-fab-btn { display: inline-flex; align-items: center; gap: 8px; border-radius: 9999px; box-shadow: 0 10px 18px -6px rgba(2,6,23,0.25), 0 6px 8px -6px rgba(2,6,23,0.18); }

/* Minor util */
.mb-safe { margin-bottom: calc(80px + env(safe-area-inset-bottom)); }

/* Desktop overrides: remove mobile offsets so footer sits flush */
@media (min-width: 768px) {
	.dr-sticky-pager { position: static !important; bottom: auto; background: transparent; backdrop-filter: none; border-top: 0; padding-top: 0; margin-top: 1rem; }
	/* Desktop pagination look */
	.dr-sticky-pager .btn.btn-light.btn-sm { background: #f8fafc; border: 1px solid rgba(100,116,139,.25); }
	.dr-sticky-pager .btn.btn-light.btn-sm:hover { background: #eef2f7; }
	.dr-sticky-pager .btn.btn-light.btn-sm.active { background: var(--dr-brand); border-color: var(--dr-brand); color: #fff; }
	.dr-create-fab { display: none !important; }
	.mb-safe { margin-bottom: 0 !important; }
}

/* ========== Lista estilo WhatsApp (móvil) ========== */
.dr-wa-item { width: 100%; display: flex; align-items: stretch; gap: .75rem; padding: .75rem .875rem; background: #ffffff; -webkit-tap-highlight-color: transparent; cursor: pointer; }
.dr-wa-item:active { background: #f8fafc; }
.dr-wa-item:focus-visible { outline: 2px solid rgba(14,165,233,.35); outline-offset: 2px; border-radius: .75rem; }
.dr-wa-avatar { flex: none; width: 44px; height: 44px; border-radius: 9999px; background: linear-gradient(135deg, #e0f2fe 0%, #f0f9ff 100%); color: #0ea5e9; display: inline-flex; align-items: center; justify-content: center; box-shadow: inset 0 0 0 1px rgba(14,165,233,.25); }
.dr-wa-avatar i { font-size: 18px; }
.dr-wa-main { flex: 1 1 auto; min-width: 0; }
.dr-wa-row1 { display: flex; align-items: baseline; justify-content: space-between; gap: .5rem; }
.dr-wa-title { font-weight: 600; font-size: 14px; color: #0f172a; }
.dr-wa-date { font-size: 11px; color: #94a3b8; white-space: nowrap; }
.dr-wa-row2 { display: flex; align-items: center; justify-content: space-between; gap: .5rem; margin-top: 0; }
.dr-wa-subtitle { font-size: 12px; color: #475569; line-height: 1.15; }
.dr-wa-actions { display: flex; justify-content: flex-end; gap: .5rem; }
.dr-wa-action { width: 36px; height: 36px; border-radius: 9999px; display: inline-flex; align-items: center; justify-content: center; border: 1px solid rgba(100,116,139,.35); background: #ffffff; color: #475569; box-shadow: 0 1px 2px rgba(2,6,23,.05); }
.dr-wa-action i { font-size: 16px; }
.dr-wa-action:active { background: #f8fafc; }
.dr-wa-action.is-view { color: #0284c7; border-color: rgba(56,189,248,.35); }
.dr-wa-action.is-edit { color: #4f46e5; border-color: rgba(129,140,248,.35); }
.dr-wa-action.is-delete { color: #e11d48; border-color: rgba(248,113,113,.35); }

/* ====== Topbar móvil (azul, bajo navbar) ====== */
.dr-mobile-topbar{
	position: sticky;
	top: var(--menu-h, 56px);
	z-index: 49; /* debajo del navbar (50) */
	background: var(--bs-primary, #0d6efd);
	color: #fff;
	box-shadow: none;
	border: 0;
	border-radius: 0;
	/* Full-bleed: ocupa todo el ancho de la pantalla debajo del navbar */
	width: 100vw;
	margin-left: calc(50% - 50vw);
	margin-right: calc(50% - 50vw);
}
.dr-mobile-topbar .form-control{
	background: rgba(255,255,255,.14) !important;
	border-color: rgba(255,255,255,.35) !important;
	color: #fff !important;
	-webkit-text-fill-color: #fff !important; /* iOS/Android WebKit */
}
.dr-mobile-topbar .form-control::placeholder{ color: rgba(255,255,255,.95) !important; }
.dr-mobile-topbar .form-control::-webkit-input-placeholder{ color: rgba(255,255,255,.95) !important; }
.dr-mobile-topbar .dr-search-btn-inside{ color:#fff; background: transparent; border: 0; width: 28px; height: 28px; display: inline-flex; align-items: center; justify-content: center; }
.dr-sort-btn{ border-color: rgba(255,255,255,.45) !important; color: #fff !important; }

/* Sort dropdown (desktop y móvil) */
.dr-sort-dropdown{ position: absolute; right: 0; top: calc(100% + 6px); background: #fff; color:#0f172a; border:1px solid rgba(15,23,42,.12); border-radius: 10px; box-shadow: 0 12px 30px rgba(2,6,23,.12); z-index: 60; min-width: 160px; padding: 6px; }
.dr-mobile-topbar.dr-sticky-under-nav{ top: var(--menu-h, 56px) !important; margin-top: 0 !important; }
.dr-sort-item{ display:block; width:100%; text-align:left; font-size: 13px; padding: 6px 8px; border-radius: 8px; border:0; background: transparent; color:#0f172a; }
.dr-sort-item:hover{ background:#f8fafc; }
.dr-sort-item.is-active{ background:#eef2ff; color:#4338ca; font-weight: 600; }

/* Headbar inside table card */

